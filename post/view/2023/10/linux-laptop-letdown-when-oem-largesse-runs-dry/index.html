<!DOCTYPE html>
<html lang="en" dir="auto">

<head><meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="robots" content="index, follow">
<title>Linux Laptop Letdown: When OEM Largesse Runs Dry | Jay Little</title>
<meta name="keywords" content="">
<meta name="description" content="Today&rsquo;s post is about a subject near and dear to my heart: Laptops with Linux preinstalled. Sadly this is not a happy post, but rather one in which I share my recent angst about the state of Linux Laptop hardware and how I have maneuvered myself into a very neglected corner.
So as regular readers know, I have largely only purchased laptops with Linux preinstalled for quite a few years. This is because as a person living within a capitalistic society, I am ethically compelled to vote with my dollar as it is the only vote I have which actually seems to matter.">
<meta name="author" content="Jay Little">
<link rel="canonical" href="https://jaylittle.com/post/view/2023/10/linux-laptop-letdown-when-oem-largesse-runs-dry/">
<link crossorigin="anonymous" href="/assets/css/stylesheet.fc220c15db4aef0318bbf30adc45d33d4d7c88deff3238b23eb255afdc472ca6.css" integrity="sha256-/CIMFdtK7wMYu/MK3EXTPU18iN7/MjiyPrJVr9xHLKY=" rel="preload stylesheet" as="style">
<link rel="icon" href="https://jaylittle.com/favicon.png">
<link rel="icon" type="image/png" sizes="16x16" href="https://jaylittle.com/favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="https://jaylittle.com/favicon-32x32.png">
<link rel="apple-touch-icon" href="https://jaylittle.com/apple-touch-icon.png">
<link rel="mask-icon" href="https://jaylittle.com/safari-pinned-tab.svg">
<meta name="theme-color" content="#2e2e33">
<meta name="msapplication-TileColor" content="#2e2e33">
<link rel="alternate" hreflang="en" href="https://jaylittle.com/post/view/2023/10/linux-laptop-letdown-when-oem-largesse-runs-dry/">
<noscript>
    <style>
        #theme-toggle,
        .top-link {
            display: none;
        }

    </style>
    <style>
        @media (prefers-color-scheme: dark) {
            :root {
                --theme: rgb(29, 30, 32);
                --entry: rgb(46, 46, 51);
                --primary: rgb(218, 218, 219);
                --secondary: rgb(155, 156, 157);
                --tertiary: rgb(65, 66, 68);
                --content: rgb(196, 196, 197);
                --code-block-bg: rgb(46, 46, 51);
                --code-bg: rgb(55, 56, 62);
                --border: rgb(51, 51, 51);
            }

            .list {
                background: var(--theme);
            }

            .list:not(.dark)::-webkit-scrollbar-track {
                background: 0 0;
            }

            .list:not(.dark)::-webkit-scrollbar-thumb {
                border-color: var(--theme);
            }
        }

    </style>
</noscript>
  

<meta property="og:title" content="Linux Laptop Letdown: When OEM Largesse Runs Dry" />
<meta property="og:description" content="Today&rsquo;s post is about a subject near and dear to my heart: Laptops with Linux preinstalled. Sadly this is not a happy post, but rather one in which I share my recent angst about the state of Linux Laptop hardware and how I have maneuvered myself into a very neglected corner.
So as regular readers know, I have largely only purchased laptops with Linux preinstalled for quite a few years. This is because as a person living within a capitalistic society, I am ethically compelled to vote with my dollar as it is the only vote I have which actually seems to matter." />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://jaylittle.com/post/view/2023/10/linux-laptop-letdown-when-oem-largesse-runs-dry/" /><meta property="article:section" content="post" />
<meta property="article:published_time" content="2023-10-17T00:00:00+00:00" />
<meta property="article:modified_time" content="2023-10-17T00:00:00+00:00" />

<meta name="twitter:card" content="summary"/>
<meta name="twitter:title" content="Linux Laptop Letdown: When OEM Largesse Runs Dry"/>
<meta name="twitter:description" content="Today&rsquo;s post is about a subject near and dear to my heart: Laptops with Linux preinstalled. Sadly this is not a happy post, but rather one in which I share my recent angst about the state of Linux Laptop hardware and how I have maneuvered myself into a very neglected corner.
So as regular readers know, I have largely only purchased laptops with Linux preinstalled for quite a few years. This is because as a person living within a capitalistic society, I am ethically compelled to vote with my dollar as it is the only vote I have which actually seems to matter."/>


<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "BreadcrumbList",
  "itemListElement": [
    {
      "@type": "ListItem",
      "position":  1 ,
      "name": "Posts",
      "item": "https://jaylittle.com/post/"
    }, 
    {
      "@type": "ListItem",
      "position":  2 ,
      "name": "Linux Laptop Letdown: When OEM Largesse Runs Dry",
      "item": "https://jaylittle.com/post/view/2023/10/linux-laptop-letdown-when-oem-largesse-runs-dry/"
    }
  ]
}
</script>
<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "BlogPosting",
  "headline": "Linux Laptop Letdown: When OEM Largesse Runs Dry",
  "name": "Linux Laptop Letdown: When OEM Largesse Runs Dry",
  "description": "Today\u0026rsquo;s post is about a subject near and dear to my heart: Laptops with Linux preinstalled. Sadly this is not a happy post, but rather one in which I share my recent angst about the state of Linux Laptop hardware and how I have maneuvered myself into a very neglected corner.\nSo as regular readers know, I have largely only purchased laptops with Linux preinstalled for quite a few years. This is because as a person living within a capitalistic society, I am ethically compelled to vote with my dollar as it is the only vote I have which actually seems to matter.",
  "keywords": [
    
  ],
  "articleBody": "Today’s post is about a subject near and dear to my heart: Laptops with Linux preinstalled. Sadly this is not a happy post, but rather one in which I share my recent angst about the state of Linux Laptop hardware and how I have maneuvered myself into a very neglected corner.\nSo as regular readers know, I have largely only purchased laptops with Linux preinstalled for quite a few years. This is because as a person living within a capitalistic society, I am ethically compelled to vote with my dollar as it is the only vote I have which actually seems to matter. To make a long story short: I do not wish to reward Microsoft for their ongoing objectionable behaviors relating to Windows and I really don’t much care for MacOS so Linux is my de-facto operating system of choice.\nSadly as time has progressed so have my hardware preferences. For awhile I was really into the whole privacy switch thing, at least I was back when I owned a Purism Librem 15. For awhile I was really into coreboot as well. The aforementioned Purism laptop also managed to scratch that itch as well as various System 76 laptops over the years (Darter Pro and Lemur Pro). Those were passing fads for me. Somewhere along the way, I went from having a mild preference for AMD processors to ignoring Intel processors as a whole. In addition, I have also had a long standing ban on Nvidia hardware in all of its various forms. This is because I wholeheartedly believe that Nvidia has held back advancement of the Linux desktop by effectively cornering the market for Linux GPUs and dragging their feet on or outright refusing to implement certain open standards. Their market dominance combined with their abuse of that position has very much hindered the adoption and development of important Linux desktop related technologies such as Wayland.\nIn any event, the primary points which relate to today’s depressing post are my preference for AMD processors and my long standing Nvidia hardware ban. You see, I don’t actually hate Intel processors. They are okay, just a bit too power hungry and a bit too hot for their own good sometimes. The right kind of case, cooling and thermal solutions can go a long way to circumventing these issues however. The real problem that keeps me from picking up a laptop with an Intel processor is that Intel’s integrated GPUs have aged out. Intel Xe GPUs are basically an aging tech stack and haven’t been updated with any of the new Intel ARC GPU goodness that is available on the desktop side of the fence. This basically means that if you buy a laptop with an Intel processor and want GPU performance that isn’t years past its prime, you are forced to pair it with an Nvidia GPU. Which of course, I absolutely refuse to do.\nOkay fine, “So just buy AMD, right?” If only it were that easy. Remember I want to buy hardware with Linux pre-installed as I am firmly committed to voting with my dollar. Now this makes me extremely sad to say, but there aren’t very many AMD processor laptops available for sale from Linux OEMs at the moment. There are basically only two that you can order and have shipped to you in short order: The StarLabs StarBook and the System76 Pangolin. The other two notable options that cannot be shipped to you today are the Framework 13 and the Framework 16.\nI can already hear you asking, “So what’s the problem Jay?” Well the problem is that I had a pre-order for the Framework 16. Managed to sneak my way into the second batch (projected delivery date: Q4 of 2023). But a month ago, the keyboard on my HP Dev One really started to go wonky after a year of having it. Rather than just taking it to somebody with actual skills so that they could fix it and bill me, I decided to screw with it myself. I made it way worse. So now the estimate to repair the keyboard is around $250 as I now need a full keyboard replacement and that requires the entire top case to be replaced (don’t even start me on the piss poor engineering that led to this idiocy).\nSo at that point, I decided that I didn’t want to wait for the Framework 16. I placed an order for the Pangolin 13 over the StarBook as I also really wanted to have a built-in numeric keypad as this makes it so much easier to play the rogue-like games that I insist on torturing myself with. I received the Pangolin 13 almost two weeks ago and despite the trackpad being a tad annoying, everything else was working great after a week so I proceeded to cancel my Framework 16 pre-order (spoiler: this was a huge fucking mistake).\nTwo days after that, the trackpad on the Pangolin 13 started going absolutely schitzo on me. Sad to say that I am not alone in experiencing this. Powering down the laptop would relieve the issue for a bit, but it would quickly return. Choice of Linux distribution did not matter. This was a hardware defect of the worst kind. Note: I refused to use a hair dryer to work around the issue as suggested by some in that reddit thread. Fuck. That. Shit. Thankfully despite a lacking QA department, System76 has a 30 day money back guarantee and thus far they appear to be honoring it. I shipped the laptop back to them yesterday and look forward to getting my full refund (minus the cost of shipping both ways) in due course.\nRegardless this leaves me up shit’s creek. I’m typing this post on my old Tuxedo Pulse 15 Gen 1 laptop. While this was a great laptop for its time, its keyboard is really beginning to show its age but as of right now, its the best I can do. The three options that remain to me are to order one of numerous Intel laptops with an aging Intel Xe GPU, order the Starbook and give up on my dreams of using the built-in numeric keypad to play rogue-likes in my recliner (yes I own several external keypads and they make my hand hurt when I use them in my recliner, hence my newfound preference for a built in one) or just get back in line for the Framework 16 and stomach the idea that I now have to wait until Q2 of 2024 (in the best case scenario) to receive the actual product.\nWhat am I going to do? Hell if I know. I don’t like any of my options. Nvidia hardware remains persona-non-grata but nevertheless, I’m running pretty low on options at the moment. Once I figure it out, I’ll be sure to post an update here and on Mastodon letting y’all know.\nUpdate 11/09/2023\nSo I finally compromised and purchased last years Lenovo Thinkpad P16s Gen 1 Ryzen model. I did this because I didn’t want to deal with cutting edge Ryzen Zen 4 issues in Linux and because I could get a much better price buying last years model from a couple Amazon resellers.\nIt arrived a few weeks ago and it has been awesome! That battery it came with (52whr) was a bit small, but thankfully you can buy a larger battery (86whr) from Lenovo and upgrade it yourself without too much trouble. So I did exactly that. Now this laptop gets between 8 and 12 hours of light to medium use on the battery, which is quite good in my book. Oh and the keyboard in this laptop is replaceable.\nIn addition its well supported in Linux. By well supported I mean that all of the hardware works, including the soldered on Qualcomm wifi hardware (which was my biggest fear going into the purchase) and that all of the system firmware is directly updatable from within Linux using fwupd. Finally its relatively quiet unless you choose to engage in performance intensive activities.\nNeedless to say, I’m a happy Lenovo P16s owner now and I highly recommend this laptop to anybody looking to purchase something Linux compatible. It doesn’t ship with Linux, but it is well supported by Lenovo in Linux. They even have Linux specific firmware updates for it.\nFinally, System76 finally gave me a full refund on my Pangolin purchase. This made me very happy. I’m still unhappy with them for shipping such an obviously broken piece of hardware and trying to get away with it. I will think long and hard before purchasing anything else from them for the foreseeable future as this experience hasn’t left a great impression overall.\n",
  "wordCount" : "1458",
  "inLanguage": "en",
  "datePublished": "2023-10-17T00:00:00Z",
  "dateModified": "2023-10-17T00:00:00Z",
  "author":[{
    "@type": "Person",
    "name": "Jay Little"
  }],
  "mainEntityOfPage": {
    "@type": "WebPage",
    "@id": "https://jaylittle.com/post/view/2023/10/linux-laptop-letdown-when-oem-largesse-runs-dry/"
  },
  "publisher": {
    "@type": "Organization",
    "name": "Jay Little",
    "logo": {
      "@type": "ImageObject",
      "url": "https://jaylittle.com/favicon.png"
    }
  }
}
</script>
</head>

<body class="" id="top">
<script>
    if (localStorage.getItem("pref-theme") === "dark") {
        document.body.classList.add('dark');
    } else if (localStorage.getItem("pref-theme") === "light") {
        document.body.classList.remove('dark')
    } else if (window.matchMedia('(prefers-color-scheme: dark)').matches) {
        document.body.classList.add('dark');
    }

</script>

<header class="header">
    <nav class="nav">
        <div class="logo">
            <a href="https://jaylittle.com/" accesskey="h" title="Jay Little (Alt + H)">Jay Little</a>
            <div class="logo-switches">
                <button id="theme-toggle" accesskey="t" title="(Alt + T)">
                    <svg id="moon" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24"
                        fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                        stroke-linejoin="round">
                        <path d="M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"></path>
                    </svg>
                    <svg id="sun" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24"
                        fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                        stroke-linejoin="round">
                        <circle cx="12" cy="12" r="5"></circle>
                        <line x1="12" y1="1" x2="12" y2="3"></line>
                        <line x1="12" y1="21" x2="12" y2="23"></line>
                        <line x1="4.22" y1="4.22" x2="5.64" y2="5.64"></line>
                        <line x1="18.36" y1="18.36" x2="19.78" y2="19.78"></line>
                        <line x1="1" y1="12" x2="3" y2="12"></line>
                        <line x1="21" y1="12" x2="23" y2="12"></line>
                        <line x1="4.22" y1="19.78" x2="5.64" y2="18.36"></line>
                        <line x1="18.36" y1="5.64" x2="19.78" y2="4.22"></line>
                    </svg>
                </button>
            </div>
        </div>
        <ul id="menu">
            <li>
                <a href="https://jaylittle.com/article/view/about/" title="About">
                    <span>About</span>
                </a>
            </li>
            <li>
                <a href="https://jaylittle.com/post/" title="Posts">
                    <span>Posts</span>
                </a>
            </li>
            <li>
                <a href="https://jaylittle.com/resume/" title="Resume">
                    <span>Resume</span>
                </a>
            </li>
            <li>
                <a href="https://jaylittle.com/article/view/jay-and-annette-wedding-2004/" title="Family">
                    <span>Family</span>
                </a>
            </li>
            <li>
                <a href="https://jaylittle.com/article/view/recipes/" title="Recipes">
                    <span>Recipes</span>
                </a>
            </li>
            <li>
                <a href="https://jaylittle.com/search/" title="Search (Alt &#43; /)" accesskey=/>
                    <span>Search</span>
                </a>
            </li>
        </ul>
    </nav>
</header>
<main class="main">

<article class="post-single">
  <header class="post-header">
    <div class="breadcrumbs"><a href="https://jaylittle.com/">Home</a>&nbsp;»&nbsp;<a href="https://jaylittle.com/post/">Posts</a></div>
    <h1 class="post-title entry-hint-parent">
      Linux Laptop Letdown: When OEM Largesse Runs Dry
    </h1>
    <div class="post-meta"><span title='2023-10-17 00:00:00 +0000 UTC'>October 17, 2023</span>&nbsp;·&nbsp;7 min&nbsp;·&nbsp;Jay Little

</div>
  </header> 
  <div class="post-content"><p>Today&rsquo;s post is about a subject near and dear to my heart: Laptops with Linux preinstalled.  Sadly this is not a happy post, but rather one in which I share my recent angst about the state of Linux Laptop hardware and how I have maneuvered myself into a very neglected corner.</p>
<p>So as regular readers know, I have largely only purchased laptops with Linux preinstalled for quite a few years.  This is because as a person living within a capitalistic society, I am ethically compelled to vote with my dollar as it is the only vote I have which actually seems to matter.  To make a long story short: I do not wish to reward Microsoft for their ongoing objectionable behaviors relating to Windows and I really don&rsquo;t much care for MacOS so Linux is my de-facto operating system of choice.</p>
<p>Sadly as time has progressed so have my hardware preferences.  For awhile I was really into the whole privacy switch thing, at least I was back when I owned a Purism Librem 15.  For awhile I was really into coreboot as well.  The aforementioned Purism laptop also managed to scratch that itch as well as various System 76 laptops over the years (Darter Pro and Lemur Pro).  Those were passing fads for me.  Somewhere along the way, I went from having a mild preference for AMD processors to ignoring Intel processors as a whole.  In addition, I have also had a long standing ban on Nvidia hardware in all of its various forms.  This is because I wholeheartedly believe that Nvidia has held back advancement of the Linux desktop by effectively cornering the market for Linux GPUs and dragging their feet on or outright refusing to implement certain open standards.  Their market dominance combined with their abuse of that position has very much hindered the adoption and development of important Linux desktop related technologies such as Wayland.</p>
<p>In any event, the primary points which relate to today&rsquo;s depressing post are my preference for AMD processors and my long standing Nvidia hardware ban.  You see, I don&rsquo;t actually hate Intel processors.  They are okay, just a bit too power hungry and a bit too hot for their own good sometimes.  The right kind of case, cooling and thermal solutions can go a long way to circumventing these issues however.  The real problem that keeps me from picking up a laptop with an Intel processor is that Intel&rsquo;s integrated GPUs have aged out.  Intel Xe GPUs are basically an aging tech stack and haven&rsquo;t been updated with any of the new Intel ARC GPU goodness that is available on the desktop side of the fence.  This basically means that if you buy a laptop with an Intel processor and want GPU performance that isn&rsquo;t years past its prime, you are forced to pair it with an Nvidia GPU.  Which of course, I absolutely refuse to do.</p>
<p>Okay fine, &ldquo;So just buy AMD, right?&rdquo;  If only it were that easy.  Remember I want to buy hardware with Linux pre-installed as I am firmly committed to voting with my dollar.  Now this makes me extremely sad to say, but there aren&rsquo;t very many AMD processor laptops available for sale from Linux OEMs at the moment.  There are basically only two that you can order and have shipped to you in short order:  The <a href="https://us.starlabs.systems/pages/starbook">StarLabs StarBook</a> and the <a href="https://system76.com/laptops/pangolin">System76 Pangolin</a>.  The other two notable options that cannot be shipped to you today are the <a href="https://frame.work/products/laptop-13-gen-amd">Framework 13</a> and the <a href="https://frame.work/products/laptop16-amd-7040">Framework 16</a>.</p>
<p>I can already hear you asking, &ldquo;So what&rsquo;s the problem Jay?&rdquo;  Well the problem is that I had a pre-order for the Framework 16.  Managed to sneak my way into the second batch (projected delivery date: Q4 of 2023).  But a month ago, the keyboard on my <a href="https://hpdevone.com/">HP Dev One</a> really started to go wonky after a year of having it.  Rather than just taking it to somebody with actual skills so that they could fix it and bill me, I decided to screw with it myself.  I made it way worse.  So now the estimate to repair the keyboard is around $250 as I now need a full keyboard replacement and that requires the entire top case to be replaced (don&rsquo;t even start me on the piss poor engineering that led to this idiocy).</p>
<p>So at that point, I decided that I didn&rsquo;t want to wait for the Framework 16.  I placed an order for the Pangolin 13 over the StarBook as I also really wanted to have a built-in numeric keypad as this makes it so much easier to play the rogue-like games that I insist on torturing myself with.  I received the Pangolin 13 almost two weeks ago and despite the trackpad being a tad annoying, everything else was working great after a week so I proceeded to cancel my Framework 16 pre-order (spoiler: this was a huge fucking mistake).</p>
<p>Two days after that, the trackpad on the Pangolin 13 started going absolutely schitzo on me.  Sad to say that <a href="https://www.reddit.com/r/System76/comments/16yqmyv/system_76_pangolin_13_touchpad_issues/">I am not alone in experiencing this</a>.  Powering down the laptop would relieve the issue for a bit, but it would quickly return.  Choice of Linux distribution did not matter.  This was a hardware defect of the worst kind.  Note: I refused to use a hair dryer to work around the issue as suggested by some in that reddit thread.  Fuck. That. Shit.  Thankfully despite a lacking QA department, System76 has a 30 day money back guarantee and thus far they appear to be honoring it.  I shipped the laptop back to them yesterday and look forward to getting my full refund (minus the cost of shipping both ways) in due course.</p>
<p>Regardless this leaves me up shit&rsquo;s creek.  I&rsquo;m typing this post on my old Tuxedo Pulse 15 Gen 1 laptop.  While this was a great laptop for its time, its keyboard is really beginning to show its age but as of right now, its the best I can do.  The three options that remain to me are to order one of numerous Intel laptops with an aging Intel Xe GPU, order the Starbook and give up on my dreams of using the built-in numeric keypad to play rogue-likes in my recliner (yes I own several external keypads and they make my hand hurt when I use them in my recliner, hence my newfound preference for a built in one) or just get back in line for the Framework 16 and stomach the idea that I now have to wait until Q2 of 2024 (in the best case scenario) to receive the actual product.</p>
<p>What am I going to do?  Hell if I know.  I don&rsquo;t like any of my options.  Nvidia hardware remains persona-non-grata but nevertheless, I&rsquo;m running pretty low on options at the moment.  Once I figure it out, I&rsquo;ll be sure to post an update here and on Mastodon letting y&rsquo;all know.</p>
<blockquote>
<p><strong>Update 11/09/2023</strong></p>
<p>So I finally compromised and purchased last years Lenovo Thinkpad P16s Gen 1 Ryzen model.  I did this because I didn&rsquo;t want to deal with cutting edge Ryzen Zen 4 issues in Linux and because I could get a much better price buying last years model from a couple Amazon resellers.</p>
<p>It arrived a few weeks ago and it has been awesome!  That battery it came with (52whr) was a bit small, but thankfully you can buy a larger battery (86whr) from Lenovo and upgrade it yourself without too much trouble.  So I did exactly that.  Now this laptop gets between 8 and 12 hours of light to medium use on the battery, which is quite good in my book.  Oh and the keyboard in this laptop is replaceable.</p>
<p>In addition its well supported in Linux.  By well supported I mean that all of the hardware works, including the soldered on Qualcomm wifi hardware (which was my biggest fear going into the purchase) and that all of the system firmware is directly updatable from within Linux using fwupd.  Finally its relatively quiet unless you choose to engage in performance intensive activities.</p>
<p>Needless to say, I&rsquo;m a happy Lenovo P16s owner now and I highly recommend this laptop to anybody looking to purchase something Linux compatible.  It doesn&rsquo;t ship with Linux, but it is well supported by Lenovo in Linux.  They even have Linux specific firmware updates for it.</p>
<p>Finally, System76 finally gave me a full refund on my Pangolin purchase.  This made me very happy.  I&rsquo;m still unhappy with them for shipping such an obviously broken piece of hardware and trying to get away with it.  I will think long and hard before purchasing anything else from them for the foreseeable future as this experience hasn&rsquo;t left a great impression overall.</p>
</blockquote>


  </div>

  <footer class="post-footer">
    <ul class="post-tags">
    </ul>
  </footer>
</article>
    </main>
    
<footer class="footer">
        <span>&copy; 2025 <a href="https://jaylittle.com/">Jay Little</a></span> · 

    <span>
        Powered by
        <a href="https://gohugo.io/" rel="noopener noreferrer" target="_blank">Hugo</a> &
        <a href="https://github.com/adityatelange/hugo-PaperMod/" rel="noopener" target="_blank">PaperMod</a>
    </span>
</footer>
<a href="#top" aria-label="go to top" title="Go to Top (Alt + G)" class="top-link" id="top-link" accesskey="g">
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 12 6" fill="currentColor">
        <path d="M12 6H0l6-6z" />
    </svg>
</a>

<script>
    let menu = document.getElementById('menu')
    if (menu) {
        menu.scrollLeft = localStorage.getItem("menu-scroll-position");
        menu.onscroll = function () {
            localStorage.setItem("menu-scroll-position", menu.scrollLeft);
        }
    }

    document.querySelectorAll('a[href^="#"]').forEach(anchor => {
        anchor.addEventListener("click", function (e) {
            e.preventDefault();
            var id = this.getAttribute("href").substr(1);
            if (!window.matchMedia('(prefers-reduced-motion: reduce)').matches) {
                document.querySelector(`[id='${decodeURIComponent(id)}']`).scrollIntoView({
                    behavior: "smooth"
                });
            } else {
                document.querySelector(`[id='${decodeURIComponent(id)}']`).scrollIntoView();
            }
            if (id === "top") {
                history.replaceState(null, null, " ");
            } else {
                history.pushState(null, null, `#${id}`);
            }
        });
    });

</script>
<script>
    var mybutton = document.getElementById("top-link");
    window.onscroll = function () {
        if (document.body.scrollTop > 800 || document.documentElement.scrollTop > 800) {
            mybutton.style.visibility = "visible";
            mybutton.style.opacity = "1";
        } else {
            mybutton.style.visibility = "hidden";
            mybutton.style.opacity = "0";
        }
    };

</script>
<script>
    document.getElementById("theme-toggle").addEventListener("click", () => {
        if (document.body.className.includes("dark")) {
            document.body.classList.remove('dark');
            localStorage.setItem("pref-theme", 'light');
        } else {
            document.body.classList.add('dark');
            localStorage.setItem("pref-theme", 'dark');
        }
    })

</script>
<script>
    document.querySelectorAll('pre > code').forEach((codeblock) => {
        const container = codeblock.parentNode.parentNode;

        const copybutton = document.createElement('button');
        copybutton.classList.add('copy-code');
        copybutton.innerHTML = 'copy';

        function copyingDone() {
            copybutton.innerHTML = 'copied!';
            setTimeout(() => {
                copybutton.innerHTML = 'copy';
            }, 2000);
        }

        copybutton.addEventListener('click', (cb) => {
            if ('clipboard' in navigator) {
                navigator.clipboard.writeText(codeblock.textContent);
                copyingDone();
                return;
            }

            const range = document.createRange();
            range.selectNodeContents(codeblock);
            const selection = window.getSelection();
            selection.removeAllRanges();
            selection.addRange(range);
            try {
                document.execCommand('copy');
                copyingDone();
            } catch (e) { };
            selection.removeRange(range);
        });

        if (container.classList.contains("highlight")) {
            container.appendChild(copybutton);
        } else if (container.parentNode.firstChild == container) {
            
        } else if (codeblock.parentNode.parentNode.parentNode.parentNode.parentNode.nodeName == "TABLE") {
            
            codeblock.parentNode.parentNode.parentNode.parentNode.parentNode.appendChild(copybutton);
        } else {
            
            codeblock.parentNode.appendChild(copybutton);
        }
    });
</script>
</body>

</html>

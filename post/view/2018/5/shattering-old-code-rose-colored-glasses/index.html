<!DOCTYPE html>
<html lang="en" dir="auto">

<head><meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="robots" content="index, follow">
<title>Shattering &#39;Old Code&#39; Rose Colored Glasses | Jay Little</title>
<meta name="keywords" content="">
<meta name="description" content="Over the course of my career, while my standards may have changed, I have always prided myself on the idea that the code I wrote was &ldquo;solid&rdquo; when judged by the standards of the day.  Due to a recent job change, I found myself with yet another opportunity to validate this particular belief.  Sadly, in this particular case, it appears to be a mixed bag at best.
Now let&rsquo;s be clear:  This application works reasonably well.  The bulk of the code was written about eight years ago.  The application hasn&rsquo;t received any updates in over five years when I started working on it again last week.  Despite this, it was still in service and providing value to my employer.  That is a victory which brings a smile to my face.">
<meta name="author" content="Jay Little">
<link rel="canonical" href="https://jaylittle.com/post/view/2018/5/shattering-old-code-rose-colored-glasses/">
<link crossorigin="anonymous" href="/assets/css/stylesheet.f49d66caae9ea0fd43f21f29e71a8d3e284517ed770f2aa86fa012953ad3c9ef.css" integrity="sha256-9J1myq6eoP1D8h8p5xqNPihFF&#43;13Dyqob6ASlTrTye8=" rel="preload stylesheet" as="style">
<link rel="icon" href="https://jaylittle.com/favicon.png">
<link rel="icon" type="image/png" sizes="16x16" href="https://jaylittle.com/favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="https://jaylittle.com/favicon-32x32.png">
<link rel="apple-touch-icon" href="https://jaylittle.com/apple-touch-icon.png">
<link rel="mask-icon" href="https://jaylittle.com/safari-pinned-tab.svg">
<meta name="theme-color" content="#2e2e33">
<meta name="msapplication-TileColor" content="#2e2e33">
<link rel="alternate" hreflang="en" href="https://jaylittle.com/post/view/2018/5/shattering-old-code-rose-colored-glasses/">
<noscript>
    <style>
        #theme-toggle,
        .top-link {
            display: none;
        }

    </style>
    <style>
        @media (prefers-color-scheme: dark) {
            :root {
                --theme: rgb(29, 30, 32);
                --entry: rgb(46, 46, 51);
                --primary: rgb(218, 218, 219);
                --secondary: rgb(155, 156, 157);
                --tertiary: rgb(65, 66, 68);
                --content: rgb(196, 196, 197);
                --code-block-bg: rgb(46, 46, 51);
                --code-bg: rgb(55, 56, 62);
                --border: rgb(51, 51, 51);
            }

            .list {
                background: var(--theme);
            }

            .list:not(.dark)::-webkit-scrollbar-track {
                background: 0 0;
            }

            .list:not(.dark)::-webkit-scrollbar-thumb {
                border-color: var(--theme);
            }
        }

    </style>
</noscript><meta property="og:url" content="https://jaylittle.com/post/view/2018/5/shattering-old-code-rose-colored-glasses/">
  <meta property="og:site_name" content="Jay Little">
  <meta property="og:title" content="Shattering &#39;Old Code&#39; Rose Colored Glasses">
  <meta property="og:description" content="Over the course of my career, while my standards may have changed, I have always prided myself on the idea that the code I wrote was “solid” when judged by the standards of the day. Due to a recent job change, I found myself with yet another opportunity to validate this particular belief. Sadly, in this particular case, it appears to be a mixed bag at best.
Now let’s be clear: This application works reasonably well. The bulk of the code was written about eight years ago. The application hasn’t received any updates in over five years when I started working on it again last week. Despite this, it was still in service and providing value to my employer. That is a victory which brings a smile to my face.">
  <meta property="og:locale" content="en">
  <meta property="og:type" content="article">
    <meta property="article:section" content="post">
    <meta property="article:published_time" content="2018-05-24T00:00:00+00:00">
    <meta property="article:modified_time" content="2018-05-24T00:00:00+00:00">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="Shattering &#39;Old Code&#39; Rose Colored Glasses">
<meta name="twitter:description" content="Over the course of my career, while my standards may have changed, I have always prided myself on the idea that the code I wrote was &ldquo;solid&rdquo; when judged by the standards of the day.  Due to a recent job change, I found myself with yet another opportunity to validate this particular belief.  Sadly, in this particular case, it appears to be a mixed bag at best.
Now let&rsquo;s be clear:  This application works reasonably well.  The bulk of the code was written about eight years ago.  The application hasn&rsquo;t received any updates in over five years when I started working on it again last week.  Despite this, it was still in service and providing value to my employer.  That is a victory which brings a smile to my face.">


<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "BreadcrumbList",
  "itemListElement": [
    {
      "@type": "ListItem",
      "position":  1 ,
      "name": "Posts",
      "item": "https://jaylittle.com/post/"
    }, 
    {
      "@type": "ListItem",
      "position":  2 ,
      "name": "Shattering 'Old Code' Rose Colored Glasses",
      "item": "https://jaylittle.com/post/view/2018/5/shattering-old-code-rose-colored-glasses/"
    }
  ]
}
</script>
<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "BlogPosting",
  "headline": "Shattering 'Old Code' Rose Colored Glasses",
  "name": "Shattering \u0027Old Code\u0027 Rose Colored Glasses",
  "description": "Over the course of my career, while my standards may have changed, I have always prided myself on the idea that the code I wrote was \u0026ldquo;solid\u0026rdquo; when judged by the standards of the day. Due to a recent job change, I found myself with yet another opportunity to validate this particular belief. Sadly, in this particular case, it appears to be a mixed bag at best.\nNow let\u0026rsquo;s be clear: This application works reasonably well. The bulk of the code was written about eight years ago. The application hasn\u0026rsquo;t received any updates in over five years when I started working on it again last week. Despite this, it was still in service and providing value to my employer. That is a victory which brings a smile to my face.\n",
  "keywords": [
    
  ],
  "articleBody": "Over the course of my career, while my standards may have changed, I have always prided myself on the idea that the code I wrote was “solid” when judged by the standards of the day. Due to a recent job change, I found myself with yet another opportunity to validate this particular belief. Sadly, in this particular case, it appears to be a mixed bag at best.\nNow let’s be clear: This application works reasonably well. The bulk of the code was written about eight years ago. The application hasn’t received any updates in over five years when I started working on it again last week. Despite this, it was still in service and providing value to my employer. That is a victory which brings a smile to my face.\nBut it’s not all good news. Some parts of this application are absolutely terrible. For starters I made some poor technology choices. One example of this is choosing to use LINQ to SQL for the Data Access Layer. By the time I was done writing the bulk of this application, Microsoft had already released the Entity Framework as an upgrade. I probably should’ve taken the time to switch to that. Ironically I’ve now completely sworn off Entity Framework as I believe that writing your own SQL is the only way to ensure consistent database performance across anything but the smallest of applications. To put it in simpler terms: I prefer to use Dapper for the DAL and hand write all of my SQL code.\nAnother massive downside to my use of LINQ to SQL was the fact that I hadn’t bothered to dispose of any of the Database Context objects I created. This of course created memory and database connection leaks which required that the application pool needed to be restarted from time to time. There is also no clean separation of concerns in the code base. For example: the data layer and the business layer are incestuously mingled together. In addition, I very much overused static methods in classes.\nLet’s not forget about my egregious use of ASP.NET WebForms. My goodness. This is one technology that I don’t think I’ll ever look back on fondly. But yes just like most other ASP.NET WebForm developers, I embedded way too much logic within the individual screens. On top of that I even went so far as to directly write LINQ to SQL queries within the screens. This of course will make rewriting the application as a ASP.NET Core application much more difficult as the process of separating and corralling the business logic and data layer will be tedious at best.\nAs you might have guessed, this application also makes use of the ASP.NET AJAX. For those of you not in the know, that technology was Microsoft’s first attempt at making AJAX like functionality more accessible to the legions of ASP.NET WebForm developers who were content to pretend that they were actual web developers. Thankfully I was at least smart enough to restrict myself to a single update panel per screen thereby avoiding the very common nightmare scenario of screens with dozens of update panels. Yes, I’ve seen that scenario in other people’s code more than once over the years.\nOf course there are no unit tests. Hell, there isn’t even one interface defined throughout the entire application. So as I’ve spent the last two weeks fixing bugs and adding features, testing for regressions has been extremely tedious and difficult due to the lack of tests and testable code.\nIt’s not all bad though. The SQL Server database was fairly well designed and continues to do the job it was designed to do. The application still renders and works in modern browsers exactly as it did eight years ago. In addition there are some nice clever bits in the code that I can really appreciate even after all of these years. I can’t make those claims about a lot of my earlier projects so in this respect, this code base marks a huge step forward for me as a developer.\nAt the end of the day I’m happy that this application was able to serve my employer so well for so long. I’m disappointed at some of my more egregious and embarrassing failures, but I’m in a good position to make amends as I’ll soon be rewriting the application. This is particularly notable for me as I’ve never had an opportunity to revisit an older application that I wrote for a third party and rewrite it from scratch. I’ve revisited some of my older professional applications for the purposes of refurbishing, fixing and extending them but never once I have gotten the opportunity to rewrite them.\nSo I’m looking forward to seeing whether or not I can do better this time around. Will the technical decisions I make and code I write this time around stand the test of time? I sure hope so. But as with so many things, only time will tell.\n",
  "wordCount" : "832",
  "inLanguage": "en",
  "datePublished": "2018-05-24T00:00:00Z",
  "dateModified": "2018-05-24T00:00:00Z",
  "author":[{
    "@type": "Person",
    "name": "Jay Little"
  }],
  "mainEntityOfPage": {
    "@type": "WebPage",
    "@id": "https://jaylittle.com/post/view/2018/5/shattering-old-code-rose-colored-glasses/"
  },
  "publisher": {
    "@type": "Organization",
    "name": "Jay Little",
    "logo": {
      "@type": "ImageObject",
      "url": "https://jaylittle.com/favicon.png"
    }
  }
}
</script>
</head>

<body class="" id="top">
<script>
    if (localStorage.getItem("pref-theme") === "dark") {
        document.body.classList.add('dark');
    } else if (localStorage.getItem("pref-theme") === "light") {
        document.body.classList.remove('dark')
    } else if (window.matchMedia('(prefers-color-scheme: dark)').matches) {
        document.body.classList.add('dark');
    }

</script>

<header class="header">
    <nav class="nav">
        <div class="logo">
            <a href="https://jaylittle.com/" accesskey="h" title="Jay Little (Alt + H)">Jay Little</a>
            <div class="logo-switches">
                <button id="theme-toggle" accesskey="t" title="(Alt + T)" aria-label="Toggle theme">
                    <svg id="moon" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24"
                        fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                        stroke-linejoin="round">
                        <path d="M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"></path>
                    </svg>
                    <svg id="sun" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24"
                        fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                        stroke-linejoin="round">
                        <circle cx="12" cy="12" r="5"></circle>
                        <line x1="12" y1="1" x2="12" y2="3"></line>
                        <line x1="12" y1="21" x2="12" y2="23"></line>
                        <line x1="4.22" y1="4.22" x2="5.64" y2="5.64"></line>
                        <line x1="18.36" y1="18.36" x2="19.78" y2="19.78"></line>
                        <line x1="1" y1="12" x2="3" y2="12"></line>
                        <line x1="21" y1="12" x2="23" y2="12"></line>
                        <line x1="4.22" y1="19.78" x2="5.64" y2="18.36"></line>
                        <line x1="18.36" y1="5.64" x2="19.78" y2="4.22"></line>
                    </svg>
                </button>
            </div>
        </div>
        <ul id="menu">
            <li>
                <a href="https://jaylittle.com/article/view/about/" title="About">
                    <span>About</span>
                </a>
            </li>
            <li>
                <a href="https://jaylittle.com/post/" title="Posts">
                    <span>Posts</span>
                </a>
            </li>
            <li>
                <a href="https://jaylittle.com/resume/" title="Resume">
                    <span>Resume</span>
                </a>
            </li>
            <li>
                <a href="https://jaylittle.com/article/view/jay-and-annette-wedding-2004/" title="Family">
                    <span>Family</span>
                </a>
            </li>
            <li>
                <a href="https://jaylittle.com/article/view/recipes/" title="Recipes">
                    <span>Recipes</span>
                </a>
            </li>
            <li>
                <a href="https://jaylittle.com/search/" title="Search (Alt &#43; /)" accesskey=/>
                    <span>Search</span>
                </a>
            </li>
        </ul>
    </nav>
</header>
<main class="main">

<article class="post-single">
  <header class="post-header">
    <div class="breadcrumbs"><a href="https://jaylittle.com/">Home</a>&nbsp;»&nbsp;<a href="https://jaylittle.com/post/">Posts</a></div>
    <h1 class="post-title entry-hint-parent">
      Shattering &#39;Old Code&#39; Rose Colored Glasses
    </h1>
    <div class="post-meta"><span title='2018-05-24 00:00:00 +0000 UTC'>May 24, 2018</span>&nbsp;·&nbsp;4 min&nbsp;·&nbsp;Jay Little

</div>
  </header> 
  <div class="post-content"><p>Over the course of my career, while my standards may have changed, I have always prided myself on the idea that the code I wrote was &ldquo;solid&rdquo; when judged by the standards of the day.  Due to a recent job change, I found myself with yet another opportunity to validate this particular belief.  Sadly, in this particular case, it appears to be a mixed bag at best.</p>
<p>Now let&rsquo;s be clear:  This application works reasonably well.  The bulk of the code was written about eight years ago.  The application hasn&rsquo;t received any updates in over five years when I started working on it again last week.  Despite this, it was still in service and providing value to my employer.  That is a victory which brings a smile to my face.</p>
<p>But it&rsquo;s not all good news.  Some parts of this application are absolutely terrible.  For starters I made some poor technology choices.  One example of this is choosing to use <a href="https://msdn.microsoft.com/en-us/library/bb425822.aspx">LINQ to SQL</a> for the Data Access Layer.  By the time I was done writing the bulk of this application, Microsoft had already released the <a href="https://msdn.microsoft.com/en-us/library/aa937723(v=vs.113).aspx">Entity Framework</a> as an upgrade.  I probably should&rsquo;ve taken the time to switch to that.  Ironically I&rsquo;ve now completely sworn off Entity Framework as I believe that writing your own SQL is the only way to ensure consistent database performance across anything but the smallest of applications.  To put it in simpler terms: I prefer to use <a href="https://github.com/StackExchange/Dapper">Dapper</a> for the DAL and hand write all of my SQL code.</p>
<p>Another massive downside to my use of LINQ to SQL was the fact that I hadn&rsquo;t bothered to dispose of any of the Database Context objects I created.  This of course created memory and database connection leaks which required that the application pool needed to be restarted from time to time.  There is also no clean separation of concerns in the code base.  For example: the data layer and the business layer are incestuously mingled together.  In addition, I very much overused static methods in classes.</p>
<p>Let&rsquo;s not forget about my egregious use of <a href="https://www.asp.net/web-forms">ASP.NET WebForms</a>.  My goodness.  This is one technology that I don&rsquo;t think I&rsquo;ll ever look back on fondly.  But yes just like most other ASP.NET WebForm developers, I embedded way too much logic within the individual screens.  On top of that I even went so far as to directly write LINQ to SQL queries within the screens.  This of course will make rewriting the application as a ASP.NET Core application much more difficult as the process of separating and corralling the business logic and data layer will be tedious at best.</p>
<p>As you might have guessed, this application also makes use of the <a href="https://docs.microsoft.com/en-us/aspnet/ajax/">ASP.NET AJAX</a>.  For those of you not in the know, that technology was Microsoft&rsquo;s first attempt at making AJAX like functionality more accessible to the legions of ASP.NET WebForm developers who were content to pretend that they were actual web developers.  Thankfully I was at least smart enough to restrict myself to a single update panel per screen thereby avoiding the very common nightmare scenario of screens with dozens of update panels.  Yes, I&rsquo;ve seen that scenario in other people&rsquo;s code more than once over the years.</p>
<p>Of course there are no unit tests.  Hell, there isn&rsquo;t even one interface defined throughout the entire application.  So as I&rsquo;ve spent the last two weeks fixing bugs and adding features, testing for regressions has been extremely tedious and difficult due to the lack of tests and testable code.</p>
<p>It&rsquo;s not all bad though.  The SQL Server database was fairly well designed and continues to do the job it was designed to do.  The application still renders and works in modern browsers exactly as it did eight years ago.  In addition there are some nice clever bits in the code that I can really appreciate even after all of these years.  I can&rsquo;t make those claims about a lot of my earlier projects so in this respect, this code base marks a huge step forward for me as a developer.</p>
<p>At the end of the day I&rsquo;m happy that this application was able to serve my employer so well for so long.  I&rsquo;m disappointed at some of my more egregious and embarrassing failures, but I&rsquo;m in a good position to make amends as I&rsquo;ll soon be rewriting the application.  This is particularly notable for me as I&rsquo;ve never had an opportunity to revisit an older application that I wrote for a third party and rewrite it from scratch.  I&rsquo;ve revisited some of my older professional applications for the purposes of refurbishing, fixing and extending them but never once I have gotten the opportunity to rewrite them.</p>
<p>So I&rsquo;m looking forward to seeing whether or not I can do better this time around.  Will the technical decisions I make and code I write this time around stand the test of time?  I sure hope so.  But as with so many things, only time will tell.</p>


  </div>

  <footer class="post-footer">
    <ul class="post-tags">
    </ul>
  </footer>
</article>
    </main>
    
<footer class="footer">
        <span>&copy; 2025 <a href="https://jaylittle.com/">Jay Little</a></span> · 

    <span>
        Powered by
        <a href="https://gohugo.io/" rel="noopener noreferrer" target="_blank">Hugo</a> &
        <a href="https://github.com/adityatelange/hugo-PaperMod/" rel="noopener" target="_blank">PaperMod</a>
    </span>
</footer>
<a href="#top" aria-label="go to top" title="Go to Top (Alt + G)" class="top-link" id="top-link" accesskey="g">
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 12 6" fill="currentColor">
        <path d="M12 6H0l6-6z" />
    </svg>
</a>

<script>
    let menu = document.getElementById('menu')
    if (menu) {
        menu.scrollLeft = localStorage.getItem("menu-scroll-position");
        menu.onscroll = function () {
            localStorage.setItem("menu-scroll-position", menu.scrollLeft);
        }
    }

    document.querySelectorAll('a[href^="#"]').forEach(anchor => {
        anchor.addEventListener("click", function (e) {
            e.preventDefault();
            var id = this.getAttribute("href").substr(1);
            if (!window.matchMedia('(prefers-reduced-motion: reduce)').matches) {
                document.querySelector(`[id='${decodeURIComponent(id)}']`).scrollIntoView({
                    behavior: "smooth"
                });
            } else {
                document.querySelector(`[id='${decodeURIComponent(id)}']`).scrollIntoView();
            }
            if (id === "top") {
                history.replaceState(null, null, " ");
            } else {
                history.pushState(null, null, `#${id}`);
            }
        });
    });

</script>
<script>
    var mybutton = document.getElementById("top-link");
    window.onscroll = function () {
        if (document.body.scrollTop > 800 || document.documentElement.scrollTop > 800) {
            mybutton.style.visibility = "visible";
            mybutton.style.opacity = "1";
        } else {
            mybutton.style.visibility = "hidden";
            mybutton.style.opacity = "0";
        }
    };

</script>
<script>
    document.getElementById("theme-toggle").addEventListener("click", () => {
        if (document.body.className.includes("dark")) {
            document.body.classList.remove('dark');
            localStorage.setItem("pref-theme", 'light');
        } else {
            document.body.classList.add('dark');
            localStorage.setItem("pref-theme", 'dark');
        }
    })

</script>
<script>
    document.querySelectorAll('pre > code').forEach((codeblock) => {
        const container = codeblock.parentNode.parentNode;

        const copybutton = document.createElement('button');
        copybutton.classList.add('copy-code');
        copybutton.innerHTML = 'copy';

        function copyingDone() {
            copybutton.innerHTML = 'copied!';
            setTimeout(() => {
                copybutton.innerHTML = 'copy';
            }, 2000);
        }

        copybutton.addEventListener('click', (cb) => {
            if ('clipboard' in navigator) {
                navigator.clipboard.writeText(codeblock.textContent);
                copyingDone();
                return;
            }

            const range = document.createRange();
            range.selectNodeContents(codeblock);
            const selection = window.getSelection();
            selection.removeAllRanges();
            selection.addRange(range);
            try {
                document.execCommand('copy');
                copyingDone();
            } catch (e) { };
            selection.removeRange(range);
        });

        if (container.classList.contains("highlight")) {
            container.appendChild(copybutton);
        } else if (container.parentNode.firstChild == container) {
            
        } else if (codeblock.parentNode.parentNode.parentNode.parentNode.parentNode.nodeName == "TABLE") {
            
            codeblock.parentNode.parentNode.parentNode.parentNode.parentNode.appendChild(copybutton);
        } else {
            
            codeblock.parentNode.appendChild(copybutton);
        }
    });
</script>
</body>

</html>

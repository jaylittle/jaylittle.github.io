<!DOCTYPE html>
<html lang="en" dir="auto">

<head><meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="robots" content="index, follow">
<title>Windows 11 Announced: A Legacy OS Gives Consumers The Middle Finger | Jay Little</title>
<meta name="keywords" content="">
<meta name="description" content="As some of you may have heard, yesterday Microsoft announced the upcoming release of Windows 11. As an early build had leaked last week and Microsoft had dropped a number of hints this did not shock anybody in particular. What was rather shocking was how little Microsoft seems to give a shit about the normal everyday average computer user.
Now if you are a frequent reader, you know that I wholeheartedly believe that Windows is a Legacy Operating System.">
<meta name="author" content="Jay Little">
<link rel="canonical" href="https://jaylittle.github.io/post/view/2021/6/windows-11-announced-a-legacy-os-gives-consumers-the-middle-finger/">
<link crossorigin="anonymous" href="/assets/css/stylesheet.fc220c15db4aef0318bbf30adc45d33d4d7c88deff3238b23eb255afdc472ca6.css" integrity="sha256-/CIMFdtK7wMYu/MK3EXTPU18iN7/MjiyPrJVr9xHLKY=" rel="preload stylesheet" as="style">
<link rel="icon" href="https://jaylittle.github.io/favicon.png">
<link rel="icon" type="image/png" sizes="16x16" href="https://jaylittle.github.io/favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="https://jaylittle.github.io/favicon-32x32.png">
<link rel="apple-touch-icon" href="https://jaylittle.github.io/apple-touch-icon.png">
<link rel="mask-icon" href="https://jaylittle.github.io/safari-pinned-tab.svg">
<meta name="theme-color" content="#2e2e33">
<meta name="msapplication-TileColor" content="#2e2e33">
<noscript>
    <style>
        #theme-toggle,
        .top-link {
            display: none;
        }

    </style>
    <style>
        @media (prefers-color-scheme: dark) {
            :root {
                --theme: rgb(29, 30, 32);
                --entry: rgb(46, 46, 51);
                --primary: rgb(218, 218, 219);
                --secondary: rgb(155, 156, 157);
                --tertiary: rgb(65, 66, 68);
                --content: rgb(196, 196, 197);
                --code-block-bg: rgb(46, 46, 51);
                --code-bg: rgb(55, 56, 62);
                --border: rgb(51, 51, 51);
            }

            .list {
                background: var(--theme);
            }

            .list:not(.dark)::-webkit-scrollbar-track {
                background: 0 0;
            }

            .list:not(.dark)::-webkit-scrollbar-thumb {
                border-color: var(--theme);
            }
        }

    </style>
</noscript><meta property="og:title" content="Windows 11 Announced: A Legacy OS Gives Consumers The Middle Finger" />
<meta property="og:description" content="As some of you may have heard, yesterday Microsoft announced the upcoming release of Windows 11. As an early build had leaked last week and Microsoft had dropped a number of hints this did not shock anybody in particular. What was rather shocking was how little Microsoft seems to give a shit about the normal everyday average computer user.
Now if you are a frequent reader, you know that I wholeheartedly believe that Windows is a Legacy Operating System." />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://jaylittle.github.io/post/view/2021/6/windows-11-announced-a-legacy-os-gives-consumers-the-middle-finger/" /><meta property="article:section" content="post" />
<meta property="article:published_time" content="2021-06-25T00:00:00+00:00" />
<meta property="article:modified_time" content="2021-06-25T00:00:00+00:00" />

<meta name="twitter:card" content="summary"/>
<meta name="twitter:title" content="Windows 11 Announced: A Legacy OS Gives Consumers The Middle Finger"/>
<meta name="twitter:description" content="As some of you may have heard, yesterday Microsoft announced the upcoming release of Windows 11. As an early build had leaked last week and Microsoft had dropped a number of hints this did not shock anybody in particular. What was rather shocking was how little Microsoft seems to give a shit about the normal everyday average computer user.
Now if you are a frequent reader, you know that I wholeheartedly believe that Windows is a Legacy Operating System."/>


<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "BreadcrumbList",
  "itemListElement": [
    {
      "@type": "ListItem",
      "position":  1 ,
      "name": "Posts",
      "item": "https://jaylittle.github.io/post/"
    }, 
    {
      "@type": "ListItem",
      "position":  2 ,
      "name": "Windows 11 Announced: A Legacy OS Gives Consumers The Middle Finger",
      "item": "https://jaylittle.github.io/post/view/2021/6/windows-11-announced-a-legacy-os-gives-consumers-the-middle-finger/"
    }
  ]
}
</script>
<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "BlogPosting",
  "headline": "Windows 11 Announced: A Legacy OS Gives Consumers The Middle Finger",
  "name": "Windows 11 Announced: A Legacy OS Gives Consumers The Middle Finger",
  "description": "As some of you may have heard, yesterday Microsoft announced the upcoming release of Windows 11. As an early build had leaked last week and Microsoft had dropped a number of hints this did not shock anybody in particular. What was rather shocking was how little Microsoft seems to give a shit about the normal everyday average computer user.\nNow if you are a frequent reader, you know that I wholeheartedly believe that Windows is a Legacy Operating System.",
  "keywords": [
    
  ],
  "articleBody": "As some of you may have heard, yesterday Microsoft announced the upcoming release of Windows 11. As an early build had leaked last week and Microsoft had dropped a number of hints this did not shock anybody in particular. What was rather shocking was how little Microsoft seems to give a shit about the normal everyday average computer user.\nNow if you are a frequent reader, you know that I wholeheartedly believe that Windows is a Legacy Operating System. The core of my reasoning can be understood by quoting a single part of the post:\nWindows 8 in my mind marked a point of transition for Microsoft, but not the one they were aiming for. It marked the moment that the Windows team became more concerned about solving their own problems rather than the problems of their users. There was virtually nothing in Windows 8 that made the upgrade worth it beyond a few technical changes such as faster boot up times. Most of it’s new fangled features such as support for touch, Metro/Modern apps and the app store were absolute garbage. In fact, even the current incarnations of these features in Windows 10 are garbage. Virtually nothing has improved on any of these fronts.\nWindows 11 is clearly not only continuing this tradition but doubling down on it the most obscene fashion. “How so?” I hear you ask. Well lets start with the system requirements:\nSystem firmware: Trusted Platform Module (TPM) version 2.0 Graphics card: Compatible with DirectX 12 or later with WDDM 2.0 driver So while most of what we are going to talk about is the TPM module, lets briefly touch on the DirectX 12 requirement first. This requirement is absurd. Short of gamers and high end niches of professionals (video / graphic editors / engineers) there is absolutely no reason for any user to care about DirectX 12. It brings nothing to the table for the vast majority of people using Windows.\nWhat this requirement will do is turn millions of functioning computers into useless piles of e-waste once support for Windows 10 expires in 2025. This is unconscionable and Microsoft should be reprimanded by the entire world for such a callous decision. Note: I did not call it self serving because honestly I have no fucking clue why they are insisting on this requirement. The reasons for it are very unclear.\nOkay, so now let’s talk about the TPM module. This requirement is the real kicker and just like the DirectX 12 requirement it will turn millions of perfectly functioning computers into piles of useless e-waste. Ok I hear you asking, “What the hell is a TPM module?”\nWell that’s simple. It’s a piece of hardware that can securely store private encryption keys. Older machines don’t have a TPM module nor do they have the more recent processors which can emulate one. In a lot of cases typical end users might be able to turn on the emulation feature by going into their BIOS, but in my experience most end users don’t even know what a BIOS is much less how to change something in it. As for the practical purpose of the TPM, Microsoft primarily uses it to bolster their disk encryption functionality known as BitLocker. I can only assume that they will be using it to augment other things by storing other sensitive private keys within it. They put out a press release talking about using it support superior security scenarios such as password-less authentication. I can’t even be bothered to link it because in truth, I don’t care.\nRemember when Microsoft said that Windows 10 would be the last major version of Windows ever? Yeah, they lied. To their credit, they probably didn’t realize it was a lie at the time, but I do recall reading that and laughing my ass off. In any event the economic realities associated with that idea are the primary reason why Windows 11 now exists.\nLike it or not, it ain’t cheap to develop a product like Windows. This is an expensive endeavor. In this case it is made even worse by the fact that Windows is a unique beast (e.g. not POSIX based) among the OSes still considered relevant in today’s modern world. On top of which its proprietary and massive so acquiring, training and keeping the talent on board to maintain and enhance this legacy beast is an expensive proposition to say the least.\nBack in 2015, Microsoft clearly did not realize this. Like it or not, supporting Windows 10 with once or twice yearly feature updates until the end of time for no charge was not a winning move for Microsoft. The vast majority of the variance in hardware and software likely comes from their consumer user base rather than their enterprise user base. In addition the consumer user base, is monetized exactly once via whatever fee the OEM who sold them their computer paid for a Windows 10 license. Unless they installed the free upgrade from Windows Vista, 7 or 8.x. In which case, these users serve as nothing more than a loss leader for Microsoft. Oh sure back in 2015 they had grand plans when it came to profiting off the Windows Store, but that’s turned into such a laughable shit show nobody honestly believes that is going to happen now.\nMeanwhile on the enterprise side of the fence, they have somehow managed to convince these companies to pay some insane fee per year for licensing Windows via Software Assurance. These customers are way more profitable for Microsoft and provide a consistent revenue stream. The customers on the consumer side of the fence on the other hand do not provide that.\nThis is why Windows 11 exists and not Windows 10 21H2 or Windows 10 22H1. Microsoft wants to hit the reset button on their relationship with their customer base. This is why the system requirements include things like DirectX 12 and TPM 2.0 modules. Microsoft is going out of their way to cut legacy users off at the knees by forcing them to either buy a new compatible PC or stop depending on Microsoft for a lifetime of free updates.\nIn short, Windows 11 marks the next stage of Windows’ transition to becoming a legacy OS. Sure some consumers will survive the transition, largely because they have more money than brains, but it seems clear that Microsoft is hoping that a lot of them get left behind by this move.\nSorry end users: You just aren’t profitable. At least not for Microsoft. On the other hand Android users seem to be profitable for Google and iOS users seem to be profitable for Apple. But those users are buying apps from first party app stores and subscribing to first party services and in some cases allowing the first party to rape and pillage their personal data. It’s shame Microsoft is so clueless that they can’t manage to succeed at any of these things.\nFor me personally, short of a few work related scenarios, I have already fully transitioned to Linux. My wife uses Linux as well. I have only a passing interest in Windows even as a fan of OSes in general. This will not negatively effect me in any way. But it will negatively effect millions of people and negatively effect the future of this planet because of all the e-waste it will generate.\nTo the people and businesses out there still using Windows: Try using anything else. Stop rewarding MS for attempting to fuck you and everybody else over. Windows isn’t the solution to your problems. Windows is your problem.\nTo the idiots pushing this debauchery at Microsoft: Shame on you. Cry all you want in your presentation, but it doesn’t change the fact that Windows has become more of a liability than ever.\n",
  "wordCount" : "1305",
  "inLanguage": "en",
  "datePublished": "2021-06-25T00:00:00Z",
  "dateModified": "2021-06-25T00:00:00Z",
  "author":[{
    "@type": "Person",
    "name": "Jay Little"
  }],
  "mainEntityOfPage": {
    "@type": "WebPage",
    "@id": "https://jaylittle.github.io/post/view/2021/6/windows-11-announced-a-legacy-os-gives-consumers-the-middle-finger/"
  },
  "publisher": {
    "@type": "Organization",
    "name": "Jay Little",
    "logo": {
      "@type": "ImageObject",
      "url": "https://jaylittle.github.io/favicon.png"
    }
  }
}
</script>
</head>

<body class="" id="top">
<script>
    if (localStorage.getItem("pref-theme") === "dark") {
        document.body.classList.add('dark');
    } else if (localStorage.getItem("pref-theme") === "light") {
        document.body.classList.remove('dark')
    } else if (window.matchMedia('(prefers-color-scheme: dark)').matches) {
        document.body.classList.add('dark');
    }

</script>

<header class="header">
    <nav class="nav">
        <div class="logo">
            <a href="https://jaylittle.github.io" accesskey="h" title="Jay Little (Alt + H)">Jay Little</a>
            <div class="logo-switches">
                <button id="theme-toggle" accesskey="t" title="(Alt + T)">
                    <svg id="moon" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24"
                        fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                        stroke-linejoin="round">
                        <path d="M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"></path>
                    </svg>
                    <svg id="sun" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24"
                        fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                        stroke-linejoin="round">
                        <circle cx="12" cy="12" r="5"></circle>
                        <line x1="12" y1="1" x2="12" y2="3"></line>
                        <line x1="12" y1="21" x2="12" y2="23"></line>
                        <line x1="4.22" y1="4.22" x2="5.64" y2="5.64"></line>
                        <line x1="18.36" y1="18.36" x2="19.78" y2="19.78"></line>
                        <line x1="1" y1="12" x2="3" y2="12"></line>
                        <line x1="21" y1="12" x2="23" y2="12"></line>
                        <line x1="4.22" y1="19.78" x2="5.64" y2="18.36"></line>
                        <line x1="18.36" y1="5.64" x2="19.78" y2="4.22"></line>
                    </svg>
                </button>
            </div>
        </div>
        <ul id="menu">
            <li>
                <a href="https://jaylittle.github.io/article/view/about/" title="About">
                    <span>About</span>
                </a>
            </li>
            <li>
                <a href="https://jaylittle.github.io/post/" title="Posts">
                    <span>Posts</span>
                </a>
            </li>
            <li>
                <a href="https://jaylittle.github.io/resume/" title="Resume">
                    <span>Resume</span>
                </a>
            </li>
            <li>
                <a href="https://jaylittle.github.io/article/view/jay-and-annette-wedding-2004/" title="Family">
                    <span>Family</span>
                </a>
            </li>
            <li>
                <a href="https://jaylittle.github.io/article/view/recipes/" title="Recipes">
                    <span>Recipes</span>
                </a>
            </li>
        </ul>
    </nav>
</header>
<main class="main">

<article class="post-single">
  <header class="post-header">
    <div class="breadcrumbs"><a href="https://jaylittle.github.io">Home</a>&nbsp;»&nbsp;<a href="https://jaylittle.github.io/post/">Posts</a></div>
    <h1 class="post-title entry-hint-parent">
      Windows 11 Announced: A Legacy OS Gives Consumers The Middle Finger
    </h1>
    <div class="post-meta"><span title='2021-06-25 00:00:00 +0000 UTC'>June 25, 2021</span>&nbsp;·&nbsp;7 min&nbsp;·&nbsp;Jay Little

</div>
  </header> 
  <div class="post-content"><p>As some of you may have heard, yesterday Microsoft announced the upcoming release of Windows 11. As an early build had leaked last week and Microsoft had dropped a number of hints this did not shock anybody in particular. What was rather shocking was how little Microsoft seems to give a shit about the normal everyday average computer user.</p>
<p>Now if you are a frequent reader, you know that I wholeheartedly believe that <a href="https://jaylittle.com/post/view/2018/10/windows-is-a-legacy-operating-system">Windows is a Legacy Operating System</a>. The core of my reasoning can be understood by quoting a single part of the post:</p>
<blockquote>
<p>Windows 8 in my mind marked a point of transition for Microsoft, but not
the one they were aiming for. It marked the moment that the Windows
team became more concerned about solving their own problems rather than
the problems of their users. There was virtually nothing in Windows 8
that made the upgrade worth it beyond a few technical changes such as
faster boot up times. Most of it&rsquo;s new fangled features such as support
for touch, Metro/Modern apps and the app store were absolute garbage.
In fact, even the current incarnations of these features in Windows 10
are garbage. Virtually nothing has improved on any of these fronts.</p>
</blockquote>
<p>Windows 11 is clearly not only continuing this tradition but doubling down on it the most obscene fashion. &ldquo;How so?&rdquo; I hear you ask. Well lets start with the <a href="https://docs.microsoft.com/en-us/windows/compatibility/windows-11/">system requirements</a>:</p>
<blockquote>
<ul>
<li>System firmware: Trusted Platform Module (TPM) version 2.0</li>
<li>Graphics card: Compatible with DirectX 12 or later with WDDM 2.0 driver</li>
</ul>
</blockquote>
<p>So while most of what we are going to talk about is the TPM module, lets briefly touch on the DirectX 12 requirement first. This requirement is absurd. Short of gamers and high end niches of professionals (video / graphic editors / engineers) there is absolutely no reason for any user to care about DirectX 12. It brings nothing to the table for the vast majority of people using Windows.</p>
<p>What this requirement will do is turn millions of functioning computers into useless piles of e-waste once support for Windows 10 expires in 2025. This is unconscionable and Microsoft should be reprimanded by the entire world for such a callous decision. Note: I did not call it self serving because honestly I have no fucking clue why they are insisting on this requirement. The reasons for it are very unclear.</p>
<p>Okay, so now let&rsquo;s talk about the TPM module. This requirement is the real kicker and just like the DirectX 12 requirement it will turn millions of perfectly functioning computers into piles of useless e-waste. Ok I hear you asking, &ldquo;What the hell is a TPM module?&rdquo;</p>
<p>Well that&rsquo;s simple. It&rsquo;s a piece of hardware that can securely store private encryption keys. Older machines don&rsquo;t have a TPM module nor do they have the more recent processors which can emulate one. In a lot of cases typical end users might be able to turn on the emulation feature by going into their BIOS, but in my experience most end users don&rsquo;t even know what a BIOS is much less how to change something in it. As for the practical purpose of the TPM, Microsoft primarily uses it to bolster their disk encryption functionality known as BitLocker. I can only assume that they will be using it to augment other things by storing other sensitive private keys within it. They put out a press release talking about using it support superior security scenarios such as password-less authentication. I can&rsquo;t even be bothered to link it because in truth, I don&rsquo;t care.</p>
<p>Remember when Microsoft said that <a href="https://www.pcmag.com/news/windows-10-the-last-version-of-windows">Windows 10 would be the last major version of Windows ever</a>? Yeah, they lied. To their credit, they probably didn&rsquo;t realize it was a lie at the time, but I do recall reading that and laughing my ass off. In any event the economic realities associated with that idea are the primary reason why Windows 11 now exists.</p>
<p>Like it or not, it ain&rsquo;t cheap to develop a product like Windows. This is an expensive endeavor. In this case it is made even worse by the fact that Windows is a unique beast (e.g. not POSIX based) among the OSes still considered relevant in today&rsquo;s modern world. On top of which its proprietary and massive so acquiring, training and keeping the talent on board to maintain and enhance this legacy beast is an expensive proposition to say the least.</p>
<p>Back in 2015, Microsoft clearly did not realize this. Like it or not, supporting Windows 10 with once or twice yearly feature updates until the end of time for no charge was not a winning move for Microsoft. The vast majority of the variance in hardware and software likely comes from their consumer user base rather than their enterprise user base. In addition the consumer user base, is monetized exactly once via whatever fee the OEM who sold them their computer paid for a Windows 10 license. Unless they installed the free upgrade from Windows Vista, 7 or 8.x. In which case, these users serve as nothing more than a loss leader for Microsoft. Oh sure back in 2015 they had grand plans when it came to profiting off the Windows Store, but that&rsquo;s turned into such a laughable shit show nobody honestly believes that is going to happen now.</p>
<p>Meanwhile on the enterprise side of the fence, they have somehow managed to convince these companies to pay some insane fee per year for licensing Windows via Software Assurance. These customers are way more profitable for Microsoft and provide a consistent revenue stream. The customers on the consumer side of the fence on the other hand do not provide that.</p>
<p>This is why Windows 11 exists and not Windows 10 21H2 or Windows 10 22H1. Microsoft wants to hit the reset button on their relationship with their customer base. This is why the system requirements include things like DirectX 12 and TPM 2.0 modules. Microsoft is going out of their way to cut legacy users off at the knees by forcing them to either buy a new compatible PC or stop depending on Microsoft for a lifetime of free updates.</p>
<p>In short, Windows 11 marks the next stage of Windows&rsquo; transition to becoming a legacy OS. Sure some consumers will survive the transition, largely because they have more money than brains, but it seems clear that Microsoft is hoping that a lot of them get left behind by this move.</p>
<p>Sorry end users: You just aren&rsquo;t profitable. At least not for Microsoft. On the other hand Android users seem to be profitable for Google and iOS users seem to be profitable for Apple. But those users are buying apps from first party app stores and subscribing to first party services and in some cases allowing the first party to rape and pillage their personal data. It&rsquo;s shame Microsoft is so clueless that they can&rsquo;t manage to succeed at any of these things.</p>
<p>For me personally, short of a few work related scenarios, I have already fully transitioned to Linux. My wife uses Linux as well. I have only a passing interest in Windows even as a fan of OSes in general. This will not negatively effect me in any way. But it will negatively effect millions of people and negatively effect the future of this planet because of all the e-waste it will generate.</p>
<p>To the people and businesses out there still using Windows: Try using anything else. Stop rewarding MS for attempting to fuck you and everybody else over. Windows isn&rsquo;t the solution to your problems. Windows is your problem.</p>
<p>To the idiots pushing this debauchery at Microsoft: Shame on you. Cry all you want in your presentation, but it doesn&rsquo;t change the fact that Windows has become more of a liability than ever.</p>


  </div>

  <footer class="post-footer">
    <ul class="post-tags">
    </ul>
  </footer>
</article>
    </main>
    
<footer class="footer">
        <span>&copy; 2024 <a href="https://jaylittle.github.io">Jay Little</a></span> · 

    <span>
        Powered by
        <a href="https://gohugo.io/" rel="noopener noreferrer" target="_blank">Hugo</a> &
        <a href="https://github.com/adityatelange/hugo-PaperMod/" rel="noopener" target="_blank">PaperMod</a>
    </span>
</footer>
<a href="#top" aria-label="go to top" title="Go to Top (Alt + G)" class="top-link" id="top-link" accesskey="g">
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 12 6" fill="currentColor">
        <path d="M12 6H0l6-6z" />
    </svg>
</a>

<script>
    let menu = document.getElementById('menu')
    if (menu) {
        menu.scrollLeft = localStorage.getItem("menu-scroll-position");
        menu.onscroll = function () {
            localStorage.setItem("menu-scroll-position", menu.scrollLeft);
        }
    }

    document.querySelectorAll('a[href^="#"]').forEach(anchor => {
        anchor.addEventListener("click", function (e) {
            e.preventDefault();
            var id = this.getAttribute("href").substr(1);
            if (!window.matchMedia('(prefers-reduced-motion: reduce)').matches) {
                document.querySelector(`[id='${decodeURIComponent(id)}']`).scrollIntoView({
                    behavior: "smooth"
                });
            } else {
                document.querySelector(`[id='${decodeURIComponent(id)}']`).scrollIntoView();
            }
            if (id === "top") {
                history.replaceState(null, null, " ");
            } else {
                history.pushState(null, null, `#${id}`);
            }
        });
    });

</script>
<script>
    var mybutton = document.getElementById("top-link");
    window.onscroll = function () {
        if (document.body.scrollTop > 800 || document.documentElement.scrollTop > 800) {
            mybutton.style.visibility = "visible";
            mybutton.style.opacity = "1";
        } else {
            mybutton.style.visibility = "hidden";
            mybutton.style.opacity = "0";
        }
    };

</script>
<script>
    document.getElementById("theme-toggle").addEventListener("click", () => {
        if (document.body.className.includes("dark")) {
            document.body.classList.remove('dark');
            localStorage.setItem("pref-theme", 'light');
        } else {
            document.body.classList.add('dark');
            localStorage.setItem("pref-theme", 'dark');
        }
    })

</script>
<script>
    document.querySelectorAll('pre > code').forEach((codeblock) => {
        const container = codeblock.parentNode.parentNode;

        const copybutton = document.createElement('button');
        copybutton.classList.add('copy-code');
        copybutton.innerHTML = 'copy';

        function copyingDone() {
            copybutton.innerHTML = 'copied!';
            setTimeout(() => {
                copybutton.innerHTML = 'copy';
            }, 2000);
        }

        copybutton.addEventListener('click', (cb) => {
            if ('clipboard' in navigator) {
                navigator.clipboard.writeText(codeblock.textContent);
                copyingDone();
                return;
            }

            const range = document.createRange();
            range.selectNodeContents(codeblock);
            const selection = window.getSelection();
            selection.removeAllRanges();
            selection.addRange(range);
            try {
                document.execCommand('copy');
                copyingDone();
            } catch (e) { };
            selection.removeRange(range);
        });

        if (container.classList.contains("highlight")) {
            container.appendChild(copybutton);
        } else if (container.parentNode.firstChild == container) {
            
        } else if (codeblock.parentNode.parentNode.parentNode.parentNode.parentNode.nodeName == "TABLE") {
            
            codeblock.parentNode.parentNode.parentNode.parentNode.parentNode.appendChild(copybutton);
        } else {
            
            codeblock.parentNode.appendChild(copybutton);
        }
    });
</script>
</body>

</html>

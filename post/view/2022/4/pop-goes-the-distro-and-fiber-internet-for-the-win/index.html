<!DOCTYPE html>
<html lang="en" dir="auto">

<head><meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="robots" content="index, follow">
<title>Pop! Goes the Distro And Fiber Internet For The Win | Jay Little</title>
<meta name="keywords" content="">
<meta name="description" content="Some weeks it sure seems like things are always changing, doesn&rsquo;t it?  Well these past few weeks have definitely felt that way for me.  Just when I think things in my tech landscape are solidifying to the point where I won&rsquo;t have any more material for tech related blog posts here, lo and behold the universe delivers some.
So last week I decided, in a huff mind you, to dump Pop! OS and replace it with Fedora.  Now those of you who know my Linux history should be shocked by this as the last time I seriously used an RPM based distribution was back in the early 2000s before I got hitched.  It has been a VERY long time.">
<meta name="author" content="Jay Little">
<link rel="canonical" href="https://jaylittle.com/post/view/2022/4/pop-goes-the-distro-and-fiber-internet-for-the-win/">
<link crossorigin="anonymous" href="/assets/css/stylesheet.f49d66caae9ea0fd43f21f29e71a8d3e284517ed770f2aa86fa012953ad3c9ef.css" integrity="sha256-9J1myq6eoP1D8h8p5xqNPihFF&#43;13Dyqob6ASlTrTye8=" rel="preload stylesheet" as="style">
<link rel="icon" href="https://jaylittle.com/favicon.png">
<link rel="icon" type="image/png" sizes="16x16" href="https://jaylittle.com/favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="https://jaylittle.com/favicon-32x32.png">
<link rel="apple-touch-icon" href="https://jaylittle.com/apple-touch-icon.png">
<link rel="mask-icon" href="https://jaylittle.com/safari-pinned-tab.svg">
<meta name="theme-color" content="#2e2e33">
<meta name="msapplication-TileColor" content="#2e2e33">
<link rel="alternate" hreflang="en" href="https://jaylittle.com/post/view/2022/4/pop-goes-the-distro-and-fiber-internet-for-the-win/">
<noscript>
    <style>
        #theme-toggle,
        .top-link {
            display: none;
        }

    </style>
    <style>
        @media (prefers-color-scheme: dark) {
            :root {
                --theme: rgb(29, 30, 32);
                --entry: rgb(46, 46, 51);
                --primary: rgb(218, 218, 219);
                --secondary: rgb(155, 156, 157);
                --tertiary: rgb(65, 66, 68);
                --content: rgb(196, 196, 197);
                --code-block-bg: rgb(46, 46, 51);
                --code-bg: rgb(55, 56, 62);
                --border: rgb(51, 51, 51);
            }

            .list {
                background: var(--theme);
            }

            .list:not(.dark)::-webkit-scrollbar-track {
                background: 0 0;
            }

            .list:not(.dark)::-webkit-scrollbar-thumb {
                border-color: var(--theme);
            }
        }

    </style>
</noscript><meta property="og:url" content="https://jaylittle.com/post/view/2022/4/pop-goes-the-distro-and-fiber-internet-for-the-win/">
  <meta property="og:site_name" content="Jay Little">
  <meta property="og:title" content="Pop! Goes the Distro And Fiber Internet For The Win">
  <meta property="og:description" content="Some weeks it sure seems like things are always changing, doesn’t it? Well these past few weeks have definitely felt that way for me. Just when I think things in my tech landscape are solidifying to the point where I won’t have any more material for tech related blog posts here, lo and behold the universe delivers some.
So last week I decided, in a huff mind you, to dump Pop! OS and replace it with Fedora. Now those of you who know my Linux history should be shocked by this as the last time I seriously used an RPM based distribution was back in the early 2000s before I got hitched. It has been a VERY long time.">
  <meta property="og:locale" content="en">
  <meta property="og:type" content="article">
    <meta property="article:section" content="post">
    <meta property="article:published_time" content="2022-04-26T00:00:00+00:00">
    <meta property="article:modified_time" content="2022-04-26T00:00:00+00:00">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="Pop! Goes the Distro And Fiber Internet For The Win">
<meta name="twitter:description" content="Some weeks it sure seems like things are always changing, doesn&rsquo;t it?  Well these past few weeks have definitely felt that way for me.  Just when I think things in my tech landscape are solidifying to the point where I won&rsquo;t have any more material for tech related blog posts here, lo and behold the universe delivers some.
So last week I decided, in a huff mind you, to dump Pop! OS and replace it with Fedora.  Now those of you who know my Linux history should be shocked by this as the last time I seriously used an RPM based distribution was back in the early 2000s before I got hitched.  It has been a VERY long time.">


<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "BreadcrumbList",
  "itemListElement": [
    {
      "@type": "ListItem",
      "position":  1 ,
      "name": "Posts",
      "item": "https://jaylittle.com/post/"
    }, 
    {
      "@type": "ListItem",
      "position":  2 ,
      "name": "Pop! Goes the Distro And Fiber Internet For The Win",
      "item": "https://jaylittle.com/post/view/2022/4/pop-goes-the-distro-and-fiber-internet-for-the-win/"
    }
  ]
}
</script>
<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "BlogPosting",
  "headline": "Pop! Goes the Distro And Fiber Internet For The Win",
  "name": "Pop! Goes the Distro And Fiber Internet For The Win",
  "description": "Some weeks it sure seems like things are always changing, doesn\u0026rsquo;t it? Well these past few weeks have definitely felt that way for me. Just when I think things in my tech landscape are solidifying to the point where I won\u0026rsquo;t have any more material for tech related blog posts here, lo and behold the universe delivers some.\nSo last week I decided, in a huff mind you, to dump Pop! OS and replace it with Fedora. Now those of you who know my Linux history should be shocked by this as the last time I seriously used an RPM based distribution was back in the early 2000s before I got hitched. It has been a VERY long time.\n",
  "keywords": [
    
  ],
  "articleBody": "Some weeks it sure seems like things are always changing, doesn’t it? Well these past few weeks have definitely felt that way for me. Just when I think things in my tech landscape are solidifying to the point where I won’t have any more material for tech related blog posts here, lo and behold the universe delivers some.\nSo last week I decided, in a huff mind you, to dump Pop! OS and replace it with Fedora. Now those of you who know my Linux history should be shocked by this as the last time I seriously used an RPM based distribution was back in the early 2000s before I got hitched. It has been a VERY long time.\nSo what happened that caused me to do this? Well the biggest reason is that Fedora just seems to have really been putting out a very solid distribution as of late and it feels like its really starting to hit a critical point in momentum. People seem to love that it is reasonably cutting edge and progressive in terms of component choices and upgrades like PipeWire, Wayland and Gnome while somehow also providing a solid end user experience.\nBut if I am being honest, Pop! has been driving me crazy as of late. For starters I have finally decided that I’m not a fan of their Cosmic desktop experience. It feels largely unpolished and less consistent than what Gnome provides by default. To me the only thing Gnome is missing by default is an ever present dock like mechanism and support for legacy system tray functionality, two problems which can both be easily resolved with extensions.\nMoreover there have been so many packaging oddities on Pop! lately that its been getting harder to ignore. Some readers might recall the Steam installation snafu encountered by Linus of Linus Tech Tips fame in his Linux Gaming series of videos. While the outcome was made worse by Linus’ arrogance and ego, the blame for the original issue rests fully upon the shoulders of the Pop! team sadly.\nI have noticed more issues like this, especially when I moved to the 22.04 beta a few weeks back. I ended up nuking a bunch of 32 bit wine related packages to alleviate the problem, but nevertheless, what the heck is going on over there? Then of course there is the fact that Pop 22.04 switched to Pipewire by default, which was a welcome change. However the Pop implementation turned out to be far less polished and worked far less well than the builds from the Pipewire Debian repo which I used prior to 22.04.\nFinally, Pop! started putting out their own Linux kernels, which is decidedly a good thing. But their upgrade cycle is very odd and makes very little sense to me. For instance before I left Pop! they were still pushing a 5.16.x kernel version and it wasn’t even the latest 5.16.20 version. For those not in the know, 5.16.x has also been EOLed and won’t be receiving any updates past 5.16.20. So presumably there was at least one blocker preventing System 76 from putting out a 5.17.x kernel, but in that case why not at least give us the latest 5.16.x kernel in the meantime?\nYes I realize that a lot of these complaints will seem like nitpicks, but one of the things I have learned as I have grown older is that a bunch of nitpicks can add up into a very large problem and that is essentially what happened here. There are other issues of course (e.g. Pop! Shop just outright sucks compared to the Gnome Store on Fedora), but I’m not going to mention them as the point of this post isn’t to rant about Pop! OS in general, but instead to explain my reasons for moving on.\nOf course I tried to switch to Fedora Silverblue first. That was my ultimate goal of course. Sadly, the software ecosystem on Linux isn’t quite at the point where I can get away with doing that. I gave it a shot on my test machine and it got as far as my personal laptop, where upon I discovered that I couldn’t easily make use of the Mullvad VPN software I use for protect my network activity in certain situations (traveling, torrenting, etc).\nSo I gave Fedora Workstation a shot and that’s where I ultimately landed. I’m very very happy. Since I’m actually on Fedora 36, which has technically not been released yet, I have had a few Gnome extension related issues, but nothing too major.\nSo the other event that happened was that I finally got myself what I consider to be a real boy internet connection. For years I have toiled around with cable internet and while the latency seemed great, the download pipes were pretty large, the upload pipe really really fucking sucked balls… and that’s me being kind. A few months back however, AT\u0026T decided to start digging up our front lawns in the neighborhood and a few people asked what was up and they informed us that they were laying fresh new shiny fiber lines.\nWell, well, well. Those of you who know me, know that I maintain a ban list of companies that I refuse to do business with. However what you may not know is that AT\u0026T was one of the very first entries on the list way back when in 2006 when we moved into our current residence. We had AT\u0026T DSL before we moved and wanted it again because we didn’t much care for Charter, the local cable company (now Spectrum). However AT\u0026T couldn’t decide whether or not they could even offer their DSL service and kept hemming and hawing until the very last minute when they canceled an installation appointment and told us too bad.\nIn any event, I believe in redemption and all that. Plus I’m not going to pass up a chance to get real fiber internet. Finally I’m willing to forgive and forget especially when I have had 16 years to think it over. So yeah, I basically stalked the AT\u0026T fiber site every couple days asking whether or not I could get service installed for months until finally a couple weeks ago… fiber service was now being offered.\nA week later I got it installed and it’s been absolutely wonderful. I only sprung for the 500 megabit symmetric internet package (and yes it more than delivers in terms of bandwidth and latency) but it has yet to go down and disappoint in any significant way. AT\u0026T somehow even managed to get the fiber line buried before the lawn care people showed up, so that’s a major plus.\nOn top of all that, my new connection is way cheaper than my old one. I’m saving $85 a month because of the switch. Now granted I went from a business cable connection to a residential fiber connection, but the benefits of having a business connection with Spectrum long ago eroded away into practically nothing. If I ever had to go back to them, I would almost certainly get a residential connection instead of a business one because the business one just wasn’t worth the extra money anymore.\nIn any event, that’s all the news that’s fit to print. Now if you’ll excuse me I gotta go get some dinner before I swap out an old spinning rust HDD in a users computer for a nice shiny new NVME drive. It’ll be real nice to see a smile on this particular users face tomorrow morning when she sits down and experiences her realistically slightly upgraded machine that by any sane end user centric metric will appear like its got a brand new lease on life.\n",
  "wordCount" : "1293",
  "inLanguage": "en",
  "datePublished": "2022-04-26T00:00:00Z",
  "dateModified": "2022-04-26T00:00:00Z",
  "author":[{
    "@type": "Person",
    "name": "Jay Little"
  }],
  "mainEntityOfPage": {
    "@type": "WebPage",
    "@id": "https://jaylittle.com/post/view/2022/4/pop-goes-the-distro-and-fiber-internet-for-the-win/"
  },
  "publisher": {
    "@type": "Organization",
    "name": "Jay Little",
    "logo": {
      "@type": "ImageObject",
      "url": "https://jaylittle.com/favicon.png"
    }
  }
}
</script>
</head>

<body class="" id="top">
<script>
    if (localStorage.getItem("pref-theme") === "dark") {
        document.body.classList.add('dark');
    } else if (localStorage.getItem("pref-theme") === "light") {
        document.body.classList.remove('dark')
    } else if (window.matchMedia('(prefers-color-scheme: dark)').matches) {
        document.body.classList.add('dark');
    }

</script>

<header class="header">
    <nav class="nav">
        <div class="logo">
            <a href="https://jaylittle.com/" accesskey="h" title="Jay Little (Alt + H)">Jay Little</a>
            <div class="logo-switches">
                <button id="theme-toggle" accesskey="t" title="(Alt + T)" aria-label="Toggle theme">
                    <svg id="moon" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24"
                        fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                        stroke-linejoin="round">
                        <path d="M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"></path>
                    </svg>
                    <svg id="sun" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24"
                        fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                        stroke-linejoin="round">
                        <circle cx="12" cy="12" r="5"></circle>
                        <line x1="12" y1="1" x2="12" y2="3"></line>
                        <line x1="12" y1="21" x2="12" y2="23"></line>
                        <line x1="4.22" y1="4.22" x2="5.64" y2="5.64"></line>
                        <line x1="18.36" y1="18.36" x2="19.78" y2="19.78"></line>
                        <line x1="1" y1="12" x2="3" y2="12"></line>
                        <line x1="21" y1="12" x2="23" y2="12"></line>
                        <line x1="4.22" y1="19.78" x2="5.64" y2="18.36"></line>
                        <line x1="18.36" y1="5.64" x2="19.78" y2="4.22"></line>
                    </svg>
                </button>
            </div>
        </div>
        <ul id="menu">
            <li>
                <a href="https://jaylittle.com/article/view/about/" title="About">
                    <span>About</span>
                </a>
            </li>
            <li>
                <a href="https://jaylittle.com/post/" title="Posts">
                    <span>Posts</span>
                </a>
            </li>
            <li>
                <a href="https://jaylittle.com/resume/" title="Resume">
                    <span>Resume</span>
                </a>
            </li>
            <li>
                <a href="https://jaylittle.com/article/view/jay-and-annette-wedding-2004/" title="Family">
                    <span>Family</span>
                </a>
            </li>
            <li>
                <a href="https://jaylittle.com/article/view/recipes/" title="Recipes">
                    <span>Recipes</span>
                </a>
            </li>
            <li>
                <a href="https://jaylittle.com/search/" title="Search (Alt &#43; /)" accesskey=/>
                    <span>Search</span>
                </a>
            </li>
        </ul>
    </nav>
</header>
<main class="main">

<article class="post-single">
  <header class="post-header">
    <div class="breadcrumbs"><a href="https://jaylittle.com/">Home</a>&nbsp;»&nbsp;<a href="https://jaylittle.com/post/">Posts</a></div>
    <h1 class="post-title entry-hint-parent">
      Pop! Goes the Distro And Fiber Internet For The Win
    </h1>
    <div class="post-meta"><span title='2022-04-26 00:00:00 +0000 UTC'>April 26, 2022</span>&nbsp;·&nbsp;7 min&nbsp;·&nbsp;Jay Little

</div>
  </header> 
  <div class="post-content"><p>Some weeks it sure seems like things are always changing, doesn&rsquo;t it?  Well these past few weeks have definitely felt that way for me.  Just when I think things in my tech landscape are solidifying to the point where I won&rsquo;t have any more material for tech related blog posts here, lo and behold the universe delivers some.</p>
<p>So last week I decided, in a huff mind you, to dump Pop! OS and replace it with Fedora.  Now those of you who know my Linux history should be shocked by this as the last time I seriously used an RPM based distribution was back in the early 2000s before I got hitched.  It has been a VERY long time.</p>
<p>So what happened that caused me to do this?  Well the biggest reason is that Fedora just seems to have really been putting out a very solid distribution as of late and it feels like its really starting to hit a critical point in momentum.  People seem to love that it is reasonably cutting edge and progressive in terms of component choices and upgrades like PipeWire, Wayland and Gnome while somehow also providing a solid end user experience.</p>
<p>But if I am being honest, Pop! has been driving me crazy as of late.  For starters I have finally decided that I&rsquo;m not a fan of their Cosmic desktop experience.  It feels largely unpolished and less consistent than what Gnome provides by default.  To me the only thing Gnome is missing by default is an ever present dock like mechanism and support for legacy system tray functionality, two problems which can both be easily resolved with extensions.</p>
<p>Moreover there have been so many packaging oddities on Pop! lately that its been getting harder to ignore.  Some readers might recall the Steam installation snafu encountered by Linus of Linus Tech Tips fame in his Linux Gaming series of videos.  While the outcome was made worse by Linus&rsquo; arrogance and ego, the blame for the original issue rests fully upon the shoulders of the Pop! team sadly.</p>
<p>I have noticed more issues like this, especially when I moved to the 22.04 beta a few weeks back. I ended up nuking a bunch of 32 bit wine related packages to alleviate the problem, but nevertheless, what the heck is going on over there?  Then of course there is the fact that Pop 22.04 switched to Pipewire by default, which was a welcome change.  However the Pop implementation turned out to be far less polished and worked far less well than the builds from the <a href="https://pipewire-debian.github.io/pipewire-debian/">Pipewire Debian</a> repo which I used prior to 22.04.</p>
<p>Finally, Pop! started putting out their own Linux kernels, which  is decidedly a good thing.  But their upgrade cycle is very odd and makes very little sense to me.  For instance before I left Pop! they were still pushing a 5.16.x kernel version and it wasn&rsquo;t even the latest 5.16.20 version.  For those not in the know, 5.16.x has also been EOLed and won&rsquo;t be receiving any updates past 5.16.20.  So presumably there was at least one blocker preventing System 76 from putting out a 5.17.x kernel, but in that case why not at least give us the latest 5.16.x kernel in the meantime?</p>
<p>Yes I realize that a lot of these complaints will seem like nitpicks, but one of the things I have learned as I have grown older is that a bunch of nitpicks can add up into a very large problem and that is essentially what happened here.  There are other issues of course (e.g. Pop! Shop just outright sucks compared to the Gnome Store on Fedora), but I&rsquo;m not going to mention them as the point of this post isn&rsquo;t to rant about Pop! OS in general, but instead to explain my reasons for moving on.</p>
<p>Of course I tried to switch to Fedora Silverblue first.  That was my ultimate goal of course.  Sadly, the software ecosystem on Linux isn&rsquo;t quite at the point where I can get away with doing that.  I gave it a shot on my test machine and it got as far as my personal laptop, where upon I discovered that I couldn&rsquo;t easily make use of the Mullvad VPN software I use for protect my network activity in certain situations (traveling, torrenting, etc).</p>
<p>So I gave Fedora Workstation a shot and that&rsquo;s where I ultimately landed.  I&rsquo;m very very happy.  Since I&rsquo;m actually on Fedora 36, which has technically not been released yet, I have had a few Gnome extension related issues, but nothing too major.</p>
<p>So the other event that happened was that I finally got myself what I consider to be a real boy internet connection.  For years I have toiled around with cable internet and while the latency seemed great, the download pipes were pretty large, the upload pipe really really fucking sucked balls&hellip; and that&rsquo;s me being kind.  A few months back however, AT&amp;T decided to start digging up our front lawns in the neighborhood and a few people asked what was up and they informed us that they were laying fresh new shiny fiber lines.</p>
<p>Well, well, well.  Those of you who know me, know that I maintain a ban list of companies that I refuse to do business with.  However what you may not know is that AT&amp;T was one of the very first entries on the list way back when in 2006 when we moved into our current residence.  We had AT&amp;T DSL before we moved and wanted it again because we didn&rsquo;t much care for Charter, the local cable company (now Spectrum).  However AT&amp;T couldn&rsquo;t decide whether or not they could even offer their DSL service and kept hemming and hawing until the very last minute when they canceled an installation appointment and told us too bad.</p>
<p>In any event, I believe in redemption and all that.  Plus I&rsquo;m not going to pass up a chance to get real fiber internet.  Finally I&rsquo;m willing to forgive and forget especially when I have had 16 years to think it over.  So yeah, I basically stalked the AT&amp;T fiber site every couple days asking whether or not I could get service installed for months until finally a couple weeks ago&hellip; fiber service was now being offered.</p>
<p>A week later I got it installed and it&rsquo;s been absolutely wonderful.  I only sprung for the 500 megabit symmetric internet package (and yes it more than delivers in terms of bandwidth and latency) but it has yet to go down and disappoint in any significant way.  AT&amp;T somehow even managed to get the fiber line buried before the lawn care people showed up, so that&rsquo;s a major plus.</p>
<p>On top of all that, my new connection is way cheaper than my old one.  I&rsquo;m saving $85 a month because of the switch.  Now granted I went from a business cable connection to a residential fiber connection, but the benefits of having a business connection with Spectrum long ago eroded away into practically nothing.  If I ever had to go back to them, I would almost certainly get a residential connection instead of a business one because the business one just wasn&rsquo;t worth the extra money anymore.</p>
<p>In any event, that&rsquo;s all the news that&rsquo;s fit to print.  Now if you&rsquo;ll excuse me I gotta go get some dinner before I swap out an old spinning rust HDD in a users computer for a nice shiny new NVME drive.  It&rsquo;ll be real nice to see a smile on this particular users face tomorrow morning when she sits down and experiences her realistically slightly upgraded machine that by any sane end user centric metric will appear like its got a brand new lease on life.</p>


  </div>

  <footer class="post-footer">
    <ul class="post-tags">
    </ul>
  </footer>
</article>
    </main>
    
<footer class="footer">
        <span>&copy; 2025 <a href="https://jaylittle.com/">Jay Little</a></span> · 

    <span>
        Powered by
        <a href="https://gohugo.io/" rel="noopener noreferrer" target="_blank">Hugo</a> &
        <a href="https://github.com/adityatelange/hugo-PaperMod/" rel="noopener" target="_blank">PaperMod</a>
    </span>
</footer>
<a href="#top" aria-label="go to top" title="Go to Top (Alt + G)" class="top-link" id="top-link" accesskey="g">
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 12 6" fill="currentColor">
        <path d="M12 6H0l6-6z" />
    </svg>
</a>

<script>
    let menu = document.getElementById('menu')
    if (menu) {
        menu.scrollLeft = localStorage.getItem("menu-scroll-position");
        menu.onscroll = function () {
            localStorage.setItem("menu-scroll-position", menu.scrollLeft);
        }
    }

    document.querySelectorAll('a[href^="#"]').forEach(anchor => {
        anchor.addEventListener("click", function (e) {
            e.preventDefault();
            var id = this.getAttribute("href").substr(1);
            if (!window.matchMedia('(prefers-reduced-motion: reduce)').matches) {
                document.querySelector(`[id='${decodeURIComponent(id)}']`).scrollIntoView({
                    behavior: "smooth"
                });
            } else {
                document.querySelector(`[id='${decodeURIComponent(id)}']`).scrollIntoView();
            }
            if (id === "top") {
                history.replaceState(null, null, " ");
            } else {
                history.pushState(null, null, `#${id}`);
            }
        });
    });

</script>
<script>
    var mybutton = document.getElementById("top-link");
    window.onscroll = function () {
        if (document.body.scrollTop > 800 || document.documentElement.scrollTop > 800) {
            mybutton.style.visibility = "visible";
            mybutton.style.opacity = "1";
        } else {
            mybutton.style.visibility = "hidden";
            mybutton.style.opacity = "0";
        }
    };

</script>
<script>
    document.getElementById("theme-toggle").addEventListener("click", () => {
        if (document.body.className.includes("dark")) {
            document.body.classList.remove('dark');
            localStorage.setItem("pref-theme", 'light');
        } else {
            document.body.classList.add('dark');
            localStorage.setItem("pref-theme", 'dark');
        }
    })

</script>
<script>
    document.querySelectorAll('pre > code').forEach((codeblock) => {
        const container = codeblock.parentNode.parentNode;

        const copybutton = document.createElement('button');
        copybutton.classList.add('copy-code');
        copybutton.innerHTML = 'copy';

        function copyingDone() {
            copybutton.innerHTML = 'copied!';
            setTimeout(() => {
                copybutton.innerHTML = 'copy';
            }, 2000);
        }

        copybutton.addEventListener('click', (cb) => {
            if ('clipboard' in navigator) {
                navigator.clipboard.writeText(codeblock.textContent);
                copyingDone();
                return;
            }

            const range = document.createRange();
            range.selectNodeContents(codeblock);
            const selection = window.getSelection();
            selection.removeAllRanges();
            selection.addRange(range);
            try {
                document.execCommand('copy');
                copyingDone();
            } catch (e) { };
            selection.removeRange(range);
        });

        if (container.classList.contains("highlight")) {
            container.appendChild(copybutton);
        } else if (container.parentNode.firstChild == container) {
            
        } else if (codeblock.parentNode.parentNode.parentNode.parentNode.parentNode.nodeName == "TABLE") {
            
            codeblock.parentNode.parentNode.parentNode.parentNode.parentNode.appendChild(copybutton);
        } else {
            
            codeblock.parentNode.appendChild(copybutton);
        }
    });
</script>
</body>

</html>
